# Emergency Azure App Service Configuration
# This forces Azure to use startup.py instead of main.py

# Port Configuration (Azure will override with HTTP_PLATFORM_PORT)
PORT=8000
WEBSITES_PORT=8000

# Health Check Configuration for Azure App Service
WEBSITE_HEALTHCHECK_MAXPINGFAILURES=3
WEBSITE_HEALTHCHECK_MAXUNHEALTHYWORKERPERCENT=75
WEBSITE_HTTPLOGGING_RETENTION_DAYS=7
WEBSITE_LOAD_CERTIFICATES=*

# HTTP Logging Configuration - ENABLE DETAILED LOGS
WEBSITES_HTTPLOGGING_ENABLED=true
WEBSITES_DETAILED_ERROR_LOGGING_ENABLED=true
WEBSITES_FAILED_REQUEST_TRACING_ENABLED=true
WEBSITE_HTTPLOGGING_RETENTION_DAYS=7
WEBSITE_LOG_LEVEL=Information
APPSERVICE_LOGS_DEFAULT_TIMEOUT=60

# Force Azure to use our fast startup script
WEBSITES_CONTAINER_START_TIME_LIMIT=600
WEBSITES_ENABLE_APP_SERVICE_STORAGE=true

# Python Configuration
PYTHON_DEFAULT_EXECUTABLE=python3
PYTHON_STARTUP_FILE=fast_startup.py
PYTHON_VERSION=3.12

# Cache bypass settings (Nuclear option)
SCM_CACHE_CLEAR=true
SCM_REPOSITORY_CACHE_CLEAR=true
WEBSITE_LOCAL_CACHE_OPTION=Never
WEBSITE_LOCAL_CACHE_SIZEINMB=0
WEBSITE_DYNAMIC_CACHE=0
WEBSITE_RUN_FROM_PACKAGE=0

# Startup command override
SCM_COMMAND_IDLE_TIMEOUT=900